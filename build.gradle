buildscript {
    apply from: 'project.gradle', to: buildscript
}

apply plugin: 'yamoney-gradle-project-plugin'
apply plugin: 'yamoney-kotlin-module-plugin'

pluginId = 'yamoney-documentation-render-plugin'
gradlePlugin {
    plugins {
        componentReleasePlugin {
            id = pluginId
            implementationClass = 'ru.yandex.money.gradle.plugins.documentation.render.DocumentationRenderPlugin'
        }
    }
}

dependencies {
    configurations.compile.exclude group: 'xerces', module: 'xercesImpl'
}

dependencies {
    optional 'com.google.code.findbugs:annotations:3.0.1'

    api 'ru.yandex.money.tools:yamoney-git-client:2.5.0'

    implementation 'org.asciidoctor:asciidoctor-gradle-jvm:3.3.0'
    implementation 'net.sourceforge.plantuml:plantuml:1.2020.19'

    testImplementation gradleTestKit(),
            'com.netflix.nebula:nebula-test:7.1.0',
            'org.unitils:unitils-core:3.4.6',
            'org.hamcrest:hamcrest-all:1.3',
            'com.netflix.nebula:nebula-test:7.1.0',
            'org.testng:testng:6.14.3',
            'org.mockito:mockito-core:2.23.0',
            'com.nhaarman.mockitokotlin2:mockito-kotlin:2.2.0',
            'ru.yandex.money.common:yamoney-test-utils:23.0.1',
            'ru.yandex.money.common:yamoney-kotlin-test-utils:6.0.1'

    testImplementation('org.spockframework:spock-core:1.3-groovy-2.5') {
        exclude module: 'groovy-all'
    }
}
